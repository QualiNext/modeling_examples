---
#[START pre]
# Simple blueprint example
kind: blueprint
#[END pre]
#[START metadata]
metadata:
  name: demoapp_webtests
  description: >
      This blueprint is used for web testing
  tags:
    - test_stage: integration
#[END metadata]
#[START targets
cloud:
  - name: aws-testing
    region: us-east1
#[END targets]
#[START applications]
targets:
  - all-in-one-vm:
      type: ec2.instance
      spec: low_end_linux_machine
      applications:
          - demoapp-api
          - demoapp-client

  - api-cluster:
      type: ec2.instance.group
      instances: 5
      spec: low_end_linux_machine
      applications:
          - demoapp-api

  - demoapp-api

#[END applications]
