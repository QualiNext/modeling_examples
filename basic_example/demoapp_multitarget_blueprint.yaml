---
#[START pre]
# Simple blueprint example
kind: blueprint
#[END pre]
#[START metadata]
metadata:
  name: demoapp_webtests
  tags:
    - test_stage: integration
#[END metadata]
#[START targets]
cloud: aws-testing
region: us-east1
#[END targets]
#[START applications]
all-in-one-vm:
    type: ec2.instance
    spec: low_end_linux_machine
    applications:
        - demoapp-api
        - demoapp-client

api-cluster:
    type: ec2.instance.group
    name: all-in-one
    instances: 5
    spec: low_end_linux_machine
    applications:
        - demoapp-api

demoapp-api:
    type: ec2.instance
    applications:
        - name: demoapp-api
          target: all-in-one

#[END applications]
