---
#[START pre]
kind: application
#[END pre]
#[START metadata]
metadata:
  name: demoapp-api
  tags:
    - env: dev
    - tier: backend
    - stack: lamp
#[END metadata]

infrastructure:
  spec:
    default: low_end_linux_machine
  connectivity:
    internal: [3001]
    external: [80, 8080]

application:
  image: standard_centos_7
  artifacts:
    identifier: app-api

orchestration:
  lifecycle:
    - setup: setup_app.sh
    - healthcheck: verify.sh
    - cleanup: db_export.sh
